import { Request } from "express";
import { requestHandler } from "@utils/request.handler";

import {{module}} from "../models/{{import}}";
import {{import}}Repository from "../repositories/{{import}}.repository";

export const get{{module}}s = requestHandler(async (req: Request) => {
  const data = await {{import}}Repository.getByParams(req.query);
  return data;
});

export const getOne{{module}} = requestHandler(async (req: Request) => {
  const {{import}} = await {{import}}Repository.getOneByParams(req.query);
  return {{import}};
});

export const register{{module}} = requestHandler(async (req: Request) => {
  const {{import}} = new {{module}}(req.body);
  const result = await {{import}}Repository.createOrUpdate({{import}});
  return result;
});

